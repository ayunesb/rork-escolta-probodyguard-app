i  emulators: Starting emulators: auth, functions, firestore
⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, database, hosting, pubsub, storage, dataconnect
i  firestore: Firestore Emulator logging to firestore-debug.log
✔  firestore: Firestore Emulator UI websocket is running on 9150.
⚠  emulators: The Emulator UI is not starting because none of the running emulators have a UI component.
i  functions: Watching "/Users/abrahamyunes/blindado/rork-escolta-probodyguard-app/functions" for Cloud Functions...
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8264

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/escolta-pro-fe90e/us-central1/api).
i  functions[us-central1-processPayouts]: function ignored because the pubsub emulator does not exist or is not running.
✔  functions[us-central1-generateInvoice]: http function initialized (http://127.0.0.1:5001/escolta-pro-fe90e/us-central1/generateInvoice).
i  functions[us-central1-recordUsageMetrics]: function ignored because the pubsub emulator does not exist or is not running.

[90m┌─────────────────────────────────────────────────────────────┐[39m
[90m│[39m ✔  All emulators ready! It is now safe to connect your app. [90m│[39m
[90m└─────────────────────────────────────────────────────────────┘[39m

[90m┌────────────────[39m[90m┬────────────────┐[39m
[90m│[39m[33m Emulator       [39m[90m│[39m[33m Host:Port      [39m[90m│[39m
[90m├────────────────[39m[90m┼────────────────┤[39m
[90m│[39m Authentication [90m│[39m 127.0.0.1:9099 [90m│[39m
[90m├────────────────[39m[90m┼────────────────┤[39m
[90m│[39m Functions      [90m│[39m 127.0.0.1:5001 [90m│[39m
[90m├────────────────[39m[90m┼────────────────┤[39m
[90m│[39m Firestore      [90m│[39m 127.0.0.1:8080 [90m│[39m
[90m└────────────────[39m[90m┴────────────────┘[39m
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
i  functions: Loaded environment variables from .env.
>  [Braintree] Using credentials: {
>    merchantId: '8jbcpm9yj7df7w4h',
>    publicKey: 'fnjq66rkd6vbkmxt',
>    privateKey: 'c96f93d2...'
>  }
i  functions: Beginning execution of "us-central1-api"
>  [ClientToken] Starting client token generation...
>  [ClientToken] merchantId: 8jbcpm9yj7df7w4h
>  [ClientToken] publicKey: fnjq66rkd6vbkmxt
>  [ClientToken] privateKey length: 32
>  [ClientToken] userId: test-user
>  [ClientToken] Calling Braintree...
>  [ClientToken] Braintree callback - err: null
>  [ClientToken] Braintree callback - result: ErrorResponse {
>    errors: ValidationErrorsCollection {
>      validationErrors: {},
>      errorCollections: { clientToken: [ValidationErrorsCollection] }
>    },
>    message: 'Customer specified by customer_id does not exist',
>    success: false
>  }
>  [ClientToken] Got result: ErrorResponse {
>    errors: ValidationErrorsCollection {
>      validationErrors: {},
>      errorCollections: { clientToken: [ValidationErrorsCollection] }
>    },
>    message: 'Customer specified by customer_id does not exist',
>    success: false
>  }
>  [ClientToken] Extracted clientToken: false
>  [ClientToken] Error: Error: Failed to generate client token from Braintree
>      at /Users/abrahamyunes/blindado/rork-escolta-probodyguard-app/functions/lib/index.js:121:19
>      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
i  functions: Finished "us-central1-api" in 628.856ms
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8485

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8580

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
i  functions: Loaded environment variables from .env.
>  [Braintree] Using credentials: {
>    merchantId: '8jbcpm9yj7df7w4h',
>    publicKey: 'fnjq66rkd6vbkmxt',
>    privateKey: 'c96f93d2...'
>  }
i  functions: Beginning execution of "us-central1-api"
>  [ClientToken] Starting client token generation...
>  [ClientToken] merchantId: 8jbcpm9yj7df7w4h
>  [ClientToken] publicKey: fnjq66rkd6vbkmxt
>  [ClientToken] privateKey length: 32
>  [ClientToken] userId: test-user
>  [ClientToken] Calling Braintree...
>  [ClientToken] Braintree callback - err: null
>  [ClientToken] Braintree callback - result: {
>    clientToken: 'eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjMkZ1WkdKdmVDSXNJbWx6Y3lJNkltaDBkSEJ6T2k4dllYQnBMbk5oYm1SaWIzZ3VZbkpoYVc1MGNtVmxaMkYwWlhkaGVTNWpiMjBpZlEuZXlKbGVIQWlPakUzTmpBMk5USTBNVE1zSW1wMGFTSTZJamM1TVRJd1l6Z3dMV0kxTmprdE5ETmpZeTFpWXpCa0xUVTBZVEUxT0RRNFlqWm1OaUlzSW5OMVlpSTZJamhxWW1Od2JUbDVhamRrWmpkM05HZ2lMQ0pwYzNNaU9pSm9kSFJ3Y3pvdkwyRndhUzV6WVc1a1ltOTRMbUp5WVdsdWRISmxaV2RoZEdWM1lYa3VZMjl0SWl3aWJXVnlZMmhoYm5RaU9uc2ljSFZpYkdsalgybGtJam9pT0dwaVkzQnRPWGxxTjJSbU4zYzBhQ0lzSW5abGNtbG1lVjlqWVhKa1gySjVYMlJsWm1GMWJIUWlPblJ5ZFdVc0luWmxjbWxtZVY5M1lXeHNaWFJmWW5sZlpHVm1ZWFZzZENJNlptRnNjMlY5TENKeWFXZG9kSE1pT2xzaWJXRnVZV2RsWDNaaGRXeDBJbDBzSW5OamIzQmxJanBiSWtKeVlXbHVkSEpsWlRwV1lYVnNkQ0lzSWtKeVlXbHVkSEpsWlRwRGJHbGxiblJUUkVzaVhTd2liM0IwYVc5dWN5STZlMzE5LjQ0WGZBUzhGVjRHSXNlYnV3dFQ1a0JWQzFYZXRIWlBTYmJBejVXcFpJZjdWOTVDZ0xob1RjZ3FXdFJZS2p0TDZvLTVIRzg1UjRzYnUybEZtdXRpRTBBIiwiY29uZmlnVXJsIjoiaHR0cHM6Ly9nYXRld2F5LXNhbmQuc2FuZGJveC5icmFpbnRyZWUtYXBpLmNvbTo0NDMvbWVyY2hhbnRzLzhqYmNwbTl5ajdkZjd3NGgvY2xpZW50X2FwaS92MS9jb25maWd1cmF0aW9uIiwiZ3JhcGhRTCI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLnNhbmRib3guYnJhaW50cmVlLWFwaS5jb20vZ3JhcGhxbCIsImRhdGUiOiIyMDE4LTA1LTA4IiwiZmVhdHVyZXMiOlsidG9rZW5pemVfY3JlZGl0X2NhcmRzIl19LCJjbGllbnRBcGlVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvOGpiY3BtOXlqN2RmN3c0aC9jbGllbnRfYXBpIiwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwibWVyY2hhbnRJZCI6IjhqYmNwbTl5ajdkZjd3NGgiLCJhc3NldHNVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImF1dGhVcmwiOiJodHRwczovL2F1dGgudmVubW8uc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbSIsInZlbm1vIjoib2ZmIiwiY2hhbGxlbmdlcyI6W10sInRocmVlRFNlY3VyZUVuYWJsZWQiOnRydWUsImFuYWx5dGljcyI6eyJ1cmwiOiJodHRwczovL29yaWdpbi1hbmFseXRpY3Mtc2FuZC5zYW5kYm94LmJyYWludHJlZS1hcGkuY29tLzhqYmNwbTl5ajdkZjd3NGgifSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImJpbGxpbmdBZ3JlZW1lbnRzRW5hYmxlZCI6dHJ1ZSwiZW52aXJvbm1lbnROb05ldHdvcmsiOnRydWUsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJhbGxvd0h0dHAiOnRydWUsImRpc3BsYXlOYW1lIjoiZXNjb2x0YSBwcm8iLCJjbGllbnRJZCI6bnVsbCwiYmFzZVVybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXNzZXRzVXJsIjoiaHR0cHM6Ly9jaGVja291dC5wYXlwYWwuY29tIiwiZGlyZWN0QmFzZVVybCI6bnVsbCwiZW52aXJvbm1lbnQiOiJvZmZsaW5lIiwiYnJhaW50cmVlQ2xpZW50SWQiOiJtYXN0ZXJjbGllbnQzIiwibWVyY2hhbnRBY2NvdW50SWQiOiJlc2NvbHRhcHJvIiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn19',
>    success: true
>  }
>  [ClientToken] Got result: {
>    clientToken: 'eyJ2ZXJzaW9uIjoyLCJhdXRob3JpemF0aW9uRmluZ2VycHJpbnQiOiJleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpGVXpJMU5pSXNJbXRwWkNJNklqSXdNVGd3TkRJMk1UWXRjMkZ1WkdKdmVDSXNJbWx6Y3lJNkltaDBkSEJ6T2k4dllYQnBMbk5oYm1SaWIzZ3VZbkpoYVc1MGNtVmxaMkYwWlhkaGVTNWpiMjBpZlEuZXlKbGVIQWlPakUzTmpBMk5USTBNVE1zSW1wMGFTSTZJamM1TVRJd1l6Z3dMV0kxTmprdE5ETmpZeTFpWXpCa0xUVTBZVEUxT0RRNFlqWm1OaUlzSW5OMVlpSTZJamhxWW1Od2JUbDVhamRrWmpkM05HZ2lMQ0pwYzNNaU9pSm9kSFJ3Y3pvdkwyRndhUzV6WVc1a1ltOTRMbUp5WVdsdWRISmxaV2RoZEdWM1lYa3VZMjl0SWl3aWJXVnlZMmhoYm5RaU9uc2ljSFZpYkdsalgybGtJam9pT0dwaVkzQnRPWGxxTjJSbU4zYzBhQ0lzSW5abGNtbG1lVjlqWVhKa1gySjVYMlJsWm1GMWJIUWlPblJ5ZFdVc0luWmxjbWxtZVY5M1lXeHNaWFJmWW5sZlpHVm1ZWFZzZENJNlptRnNjMlY5TENKeWFXZG9kSE1pT2xzaWJXRnVZV2RsWDNaaGRXeDBJbDBzSW5OamIzQmxJanBiSWtKeVlXbHVkSEpsWlRwV1lYVnNkQ0lzSWtKeVlXbHVkSEpsWlRwRGJHbGxiblJUUkVzaVhTd2liM0IwYVc5dWN5STZlMzE5LjQ0WGZBUzhGVjRHSXNlYnV3dFQ1a0JWQzFYZXRIWlBTYmJBejVXcFpJZjdWOTVDZ0xob1RjZ3FXdFJZS2p0TDZvLTVIRzg1UjRzYnUybEZtdXRpRTBBIiwiY29uZmlnVXJsIjoiaHR0cHM6Ly9nYXRld2F5LXNhbmQuc2FuZGJveC5icmFpbnRyZWUtYXBpLmNvbTo0NDMvbWVyY2hhbnRzLzhqYmNwbTl5ajdkZjd3NGgvY2xpZW50X2FwaS92MS9jb25maWd1cmF0aW9uIiwiZ3JhcGhRTCI6eyJ1cmwiOiJodHRwczovL3BheW1lbnRzLnNhbmRib3guYnJhaW50cmVlLWFwaS5jb20vZ3JhcGhxbCIsImRhdGUiOiIyMDE4LTA1LTA4IiwiZmVhdHVyZXMiOlsidG9rZW5pemVfY3JlZGl0X2NhcmRzIl19LCJjbGllbnRBcGlVcmwiOiJodHRwczovL2FwaS5zYW5kYm94LmJyYWludHJlZWdhdGV3YXkuY29tOjQ0My9tZXJjaGFudHMvOGpiY3BtOXlqN2RmN3c0aC9jbGllbnRfYXBpIiwiZW52aXJvbm1lbnQiOiJzYW5kYm94IiwibWVyY2hhbnRJZCI6IjhqYmNwbTl5ajdkZjd3NGgiLCJhc3NldHNVcmwiOiJodHRwczovL2Fzc2V0cy5icmFpbnRyZWVnYXRld2F5LmNvbSIsImF1dGhVcmwiOiJodHRwczovL2F1dGgudmVubW8uc2FuZGJveC5icmFpbnRyZWVnYXRld2F5LmNvbSIsInZlbm1vIjoib2ZmIiwiY2hhbGxlbmdlcyI6W10sInRocmVlRFNlY3VyZUVuYWJsZWQiOnRydWUsImFuYWx5dGljcyI6eyJ1cmwiOiJodHRwczovL29yaWdpbi1hbmFseXRpY3Mtc2FuZC5zYW5kYm94LmJyYWludHJlZS1hcGkuY29tLzhqYmNwbTl5ajdkZjd3NGgifSwicGF5cGFsRW5hYmxlZCI6dHJ1ZSwicGF5cGFsIjp7ImJpbGxpbmdBZ3JlZW1lbnRzRW5hYmxlZCI6dHJ1ZSwiZW52aXJvbm1lbnROb05ldHdvcmsiOnRydWUsInVudmV0dGVkTWVyY2hhbnQiOmZhbHNlLCJhbGxvd0h0dHAiOnRydWUsImRpc3BsYXlOYW1lIjoiZXNjb2x0YSBwcm8iLCJjbGllbnRJZCI6bnVsbCwiYmFzZVVybCI6Imh0dHBzOi8vYXNzZXRzLmJyYWludHJlZWdhdGV3YXkuY29tIiwiYXNzZXRzVXJsIjoiaHR0cHM6Ly9jaGVja291dC5wYXlwYWwuY29tIiwiZGlyZWN0QmFzZVVybCI6bnVsbCwiZW52aXJvbm1lbnQiOiJvZmZsaW5lIiwiYnJhaW50cmVlQ2xpZW50SWQiOiJtYXN0ZXJjbGllbnQzIiwibWVyY2hhbnRBY2NvdW50SWQiOiJlc2NvbHRhcHJvIiwiY3VycmVuY3lJc29Db2RlIjoiVVNEIn19',
>    success: true
>  }
>  [ClientToken] Extracted clientToken: true
i  functions: Finished "us-central1-api" in 1137.953417ms
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8558

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8722

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8495

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8934

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8004

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8840

[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
✔  functions: Using node@20 from host.
i  functions: Loaded environment variables from .env.
Serving at port 8542

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
[Braintree] Using credentials: {
  merchantId: '8jbcpm9yj7df7w4h',
  publicKey: 'fnjq66rkd6vbkmxt',
  privateKey: 'c96f93d2...'
}

✔  functions: Loaded functions definitions from source: api, processPayouts, generateInvoice, recordUsageMetrics.
i  functions: Loaded environment variables from .env.
>  [Braintree] Using credentials: {
>    merchantId: '8jbcpm9yj7df7w4h',
>    publicKey: 'fnjq66rkd6vbkmxt',
>    privateKey: 'c96f93d2...'
>  }
i  functions: Beginning execution of "us-central1-api"
i  functions: Finished "us-central1-api" in 1085.006083ms
i  functions: Beginning execution of "us-central1-api"
i  functions: Finished "us-central1-api" in 703.84025ms
i  functions: Beginning execution of "us-central1-api"
i  functions: Finished "us-central1-api" in 721.170333ms
